<html>
  <head> <title>divloom</title>
                <meta name="viewport" content="width=device-width, initial-scale=1.0">

        </head>
  <script>
let content = "";

function div(e) {
  content += "<div>";
  content += "<div>";
  document.getElementById("loom").innerHTML = content;
  e.preventDefault();
}
function endiv() {
  content += "</div>";
  content += "</div>";
  content += "</div>";
  content += "</div>";
  content += "<div>";

  document.getElementById("loom").innerHTML = content;
}
document.addEventListener("keydown", (e) => {
  console.log(e.key);
  if (e.key === "Enter") {
    content += `<input type="radio">`;
  }else if (e.key === " ") {
//     content += `<button></button>`;
    content += `<hr></hr>`;
  } else if (e.key === "Shift") {
   content += `<input type="checkbox" checked>`;
} else if (e.key === "Control") {
   content += `<input type="checkbox" >`;
  } else if (e.key === "Backspace") {
    content += `<input type="radio" checked>`;
  } else if (e.key === "ArrowLeft") {
    endiv();
  } else if (e.key == "ArrowRight") {
    div();
  } else if (e.key.length > 1) {
    if (e.key.length % 3          == 0) {
      div();
    } else {
      endiv();
    }
  } else {
    content += e.key;

  }
  document.getElementById("loom").innerHTML = content;

});

</script>
  <style>
    body{
        touch-action: manipulation;

        margin: 4px;
        margin:auto;
        max-width: 600px;;
        /* border: 4px solid black; */
    }
    hr{
            margin-top: 1px ;
            margin-bottom: 1px ;
            border:   solid black 1px;
            /* border-top: none; */
    }
  div{
        touch-action: manipulation;

      border: 1px dashed black;
  }

  
  div:hover, hr:hover, input:hover{
        border-color:rebeccapurple;

  }
  #loom{
        /* border: 4px solid black; */
  }
  #loom:hover{
          /* background-color: white; */
  }
 #instructions{
         /* margin:8px; */
         /* padding:8px; */
 }
  button{
        touch-action: manipulation;

          /* margin:auto; */
          height: 22px;
          min-width: 44px;
  }
  @media (-webkit-min-device-pixel-ratio: 2) { 
        div{
      border: 2px dotted black;
        }
  }
  @media only screen and (max-width: 600px) {
        buttons {
    position: fixed;
    bottom:4px;
    display: flex;
    justify-content: space-around;
    width: 100%;
  }
}
  </style>
  
  <body>
          <div id="instructions">

          <h3> &lt;divloom></h3>
          <p>
Use the <b>spacebar</b> and <b>arrow keys</b> to weave.
 <!-- (add &lt;divs> and &lt;/div>). -->
<br>
You can also type letters, or press Backspace, Shift, Control, and Enter.
                  
          </p>
          <buttons>

                <button onclick="div()">&lt;div></button>
                <button onclick="endiv()">&lt;/div></button>
        </buttons>

        </div>

                <div id="loom">
          <div><div>
          <div><div>
    </div>
</body>


   
</html>
